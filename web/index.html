<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ollama Pilot</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="dark">
    <div class="app-container">
        <!-- Left Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <button id="new-chat-btn" class="new-chat-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"></path>
                    </svg>
                    <span class="new-chat-text">New chat</span>
                </button>
            </div>
            
            <div class="sidebar-nav">
                <div class="nav-item active">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    Search chats
                </div>
                <div class="nav-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    Library
                </div>
            </div>

            <!-- Projects Section -->
            <div class="projects-section">
                <div class="projects-header">
                    <h3>Projects</h3>
                    <button class="projects-add-btn" title="Add Project">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14M5 12h14"></path>
                        </svg>
                    </button>
                </div>
                <div class="projects-list">
                    <!-- Projects will be loaded dynamically from the backend -->
                </div>
            </div>

            <!-- Chats Section -->
            <div class="chats-section">
                <div class="chats-header">
                    <h3>Chats</h3>
                </div>
            </div>

            <div class="sidebar-sessions">
                <div id="sessions-list" class="sessions-list">
                    <!-- Sessions will be loaded here -->
                </div>
            </div>

            <div class="sidebar-footer">
                <div class="user-menu">
                    <div class="user-info">
                        <div class="user-avatar">
                            <span id="status-dot" class="status-dot"></span>
                        </div>
                        <div class="user-details">
                            <span class="user-name">User</span>
                            <span id="status-text" class="user-status">Connecting...</span>
                        </div>
                    </div>
                    <button id="settings-btn" class="settings-btn" title="Settings">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="main-header">
                <div class="header-left">
                    <button id="sidebar-toggle" class="sidebar-toggle-btn" title="Toggle sidebar">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12h18M3 6h18M3 18h18"></path>
                        </svg>
                    </button>
                    <div class="model-selector">
                        <button class="model-selector-btn" id="model-selector-btn">
                            <span class="model-name" id="current-model-name">Loading...</span>
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" class="model-dropdown-icon">
                                <path d="M12.1338 5.94433C12.3919 5.77382 12.7434 5.80202 12.9707 6.02929C13.1979 6.25656 13.2261 6.60807 13.0556 6.8662L12.9707 6.9707L8.47067 11.4707C8.21097 11.7304 7.78896 11.7304 7.52926 11.4707L3.02926 6.9707L2.9443 6.8662C2.77379 6.60807 2.80199 6.25656 3.02926 6.02929C3.25653 5.80202 3.60804 5.77382 3.86617 5.94433L3.97067 6.02929L7.99996 10.0586L12.0293 6.02929L12.1338 5.94433Z"></path>
                            </svg>
                        </button>
                        <div class="model-dropdown" id="model-dropdown">
                            <div class="model-dropdown-content">
                                <!-- Model options will be populated by JavaScript -->
                            </div>
                        </div>
                        <!-- Hidden select for compatibility -->
                        <select id="model-select" style="display: none;">
                            <option value="">Loading...</option>
                        </select>
                    </div>
                </div>
                <div class="header-controls">
                    <button class="header-btn" title="Share">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="chat-area">
                <div id="chat-messages" class="chat-messages">
                    <div class="welcome-section">
                        <h1 class="welcome-title">What's on the agenda today?</h1>
                    </div>
                </div>

                <div class="chat-input-section">
                    <div class="input-container">
                        <div class="input-wrapper">
                            <div class="input-actions-left">
                                <button class="input-action-btn" title="Attach">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
                                    </svg>
                                </button>
                            </div>
                            <textarea
                                id="message-input"
                                placeholder="Ask anything"
                                rows="1"
                            ></textarea>
                            <div class="input-actions-right">
                                <button class="input-action-btn" title="Voice">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                        <line x1="12" y1="19" x2="12" y2="23"></line>
                                        <line x1="8" y1="23" x2="16" y2="23"></line>
                                    </svg>
                                </button>
                                <button id="send-btn" class="send-btn" disabled>
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 
10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="settings-modal">
        <div class="settings-content">
            <div class="settings-header">
                <h3>Settings</h3>
                <button id="close-settings" class="close-btn">×</button>
            </div>
            <div class="settings-body">
                <!-- Settings Navigation -->
                <div class="settings-navigation">
                    <button class="settings-nav-btn active" data-tab="general">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                        </svg>
                        General
                    </button>
                    <button class="settings-nav-btn" data-tab="models">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <path d="M2 17l10 5 10-5"></path>
                            <path d="M2 12l10 5 10-5"></path>
                        </svg>
                        Models
                    </button>
                    <button class="settings-nav-btn" data-tab="memory">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"></path>
                            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"></path>
                            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"></path>
                        </svg>
                        Memory
                    </button>
                </div>
                
                <!-- Settings Content -->
                <div class="settings-content-area">
                    <!-- General Settings Tab -->
                    <div id="general-tab" class="settings-tab-content active">
                        <div class="settings-section">
                            <div class="section-header">
                                <h4>Chat Behavior</h4>
                                <p class="section-description">Configure how the chat interface behaves</p>
                            </div>
                            <div class="section-content">
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <label for="default-streaming">Enable streaming by default</label>
                                        <span class="setting-description">Stream responses as they're generated for faster feedback</span>
                                    </div>
                                    <div class="setting-control">
                                        <input type="checkbox" id="default-streaming" checked>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <label for="auto-scroll">Auto-scroll to new messages</label>
                                        <span class="setting-description">Automatically scroll to the bottom when new messages arrive</span>
                                    </div>
                                    <div class="setting-control">
                                        <input type="checkbox" id="auto-scroll" checked>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <div class="section-header">
                                <h4>Interface</h4>
                                <p class="section-description">Customize the appearance and layout</p>
                            </div>
                            <div class="section-content">
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <label for="theme-select">Theme</label>
                                        <span class="setting-description">Choose your preferred color scheme</span>
                                    </div>
                                    <div class="setting-control">
                                        <select id="theme-select">
                                            <option value="light">Light</option>
                                            <option value="dark">Dark</option>
                                            <option value="auto">Auto</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <label for="sidebar-width">Sidebar Width</label>
                                        <span class="setting-description">Adjust the width of the sidebar</span>
                                    </div>
                                    <div class="setting-control">
                                        <select id="sidebar-width">
                                            <option value="250">Narrow (250px)</option>
                                            <option value="300" selected>Default (300px)</option>
                                            <option value="350">Wide (350px)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <div class="section-header">
                                <h4>Model Parameters</h4>
                                <p class="section-description">Default settings for AI model behavior</p>
                            </div>
                            <div class="section-content">
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <label for="temperature-slider">Temperature: <span id="temperature-value">0.7</span></label>
                                        <span class="setting-description">Controls randomness in responses (0 = deterministic, 2 = very creative)</span>
                                    </div>
                                    <div class="setting-control">
                                        <input type="range" id="temperature-slider" min="0" max="2" step="0.1" value="0.7">
                                    </div>
                                </div>
                                <div class="setting-item">
                                    <div class="setting-info">
                                        <label for="max-tokens">Max Tokens</label>
                                        <span class="setting-description">Maximum length of generated responses</span>
                                    </div>
                                    <div class="setting-control">
                                        <input type="number" id="max-tokens" min="1" max="4096" value="2048">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Models Tab -->
                    <div id="models-tab" class="settings-tab-content">
                        <div class="settings-section">
                            <div class="section-header">
                                <h4>Installed Models</h4>
                                <p class="section-description">Manage your downloaded AI models</p>
                            </div>
                            <div class="section-content">
                                <div class="model-actions-bar">
                                    <button id="sync-models-btn" class="action-btn primary">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="23 4 23 10 17 10"></polyline>
                                            <polyline points="1 20 1 14 7 14"></polyline>
                                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                                        </svg>
                                        Sync & Refresh
                                    </button>
                                </div>
                                
                                <div id="download-status" class="download-status" style="display: none;">
                                    <div class="download-progress">
                                        <div class="progress-bar">
                                            <div id="progress-fill" class="progress-fill"></div>
                                        </div>
                                        <div id="download-text" class="download-text">Preparing download...</div>
                                    </div>
                                </div>
                                
                                <div class="models-container">
                                    <div id="models-list" class="models-list">
                                        <!-- Installed models will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <div class="section-header">
                                <h4>Download New Models</h4>
                                <p class="section-description">Add new AI models to your collection</p>
                            </div>
                            <div class="section-content">
                                <div class="download-input-group">
                                    <input type="text" id="model-download-input" placeholder="Enter model name (e.g., llama3.2:3b, mistral:7b)" class="model-input">
                                    <button id="download-model-btn" class="action-btn primary" disabled>
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="7,10 12,15 17,10"></polyline>
                                            <line x1="12" y1="15" x2="12" y2="3"></line>
                                        </svg>
                                        Download
                                    </button>
                                </div>
                                
                                <div class="available-models-section">
                                    <div class="available-models-header">
                                        <h5>Popular Models</h5>
                                        <button id="refresh-available-models-btn" class="action-btn">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <polyline points="23 4 23 10 17 10"></polyline>
                                                <polyline points="1 20 1 14 7 14"></polyline>
                                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                                            </svg>
                                            Refresh
                                        </button>
                                    </div>
                                    
                                    <div class="available-models-search">
                                        <div class="search-input-wrapper">
                                            <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <circle cx="11" cy="11" r="8"></circle>
                                                <path d="m21 21-4.35-4.35"></path>
                                            </svg>
                                            <input type="text" id="model-search-input" placeholder="Search models..." class="search-input">
                                            <button id="clear-search-btn" class="clear-search-btn" disabled>×</button>
                                        </div>
                                    </div>
                                    
                                    <div id="available-models-list" class="available-models-list">
                                        <!-- Available models will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Memory Tab -->
                    <div id="memory-tab" class="settings-tab-content">
                        <div class="settings-section">
                            <div class="section-header">
                                <h4>Memory Management</h4>
                                <p class="section-description">Manage AI memory for persistent context across conversations</p>
                            </div>
                            <div class="section-content">
                                <!-- Memory Management Interface -->
                                <div class="memory-management-section">
                                    <div class="memory-management-tabs">
                                        <button class="memory-tab-btn active" data-tab="summaries">Summaries</button>
                                        <button class="memory-tab-btn" data-tab="gaps">Memory Gaps</button>
                                        <button class="memory-tab-btn" data-tab="search">Search</button>
                                    </div>
                                    
                                    <!-- Summaries Tab -->
                                    <div id="entities-tab" class="memory-tab-content active">
                                        <div class="memory-tab-header">
                                            <div class="memory-input-group">
                                                <input type="text" id="entity-name-input" placeholder="Summary title (optional)" class="memory-input">
                                                <textarea id="entity-observations-input" placeholder="Summary content" class="memory-textarea" rows="3"></textarea>
                                                <button id="add-entity-btn" class="action-btn primary">Create Summary</button>
                                            </div>
                                        </div>
                                        
                                        <div class="memory-entities-list">
                                            <div id="entities-list" class="entities-container">
                                                <!-- Memory summaries will be loaded here -->
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Memory Gaps Tab -->
                                    <div id="relations-tab" class="memory-tab-content">
                                        <div class="memory-tab-header">
                                            <p class="section-description">Memory gaps are automatically detected periods where context may be lost in conversations. Select a chat session to view its memory gaps.</p>
                                        </div>
                                        
                                        <div class="memory-relations-list">
                                            <div id="relations-list" class="relations-container">
                                                <!-- Memory gaps will be loaded here -->
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Search Tab -->
                                    <div id="search-tab" class="memory-tab-content">
                                        <div class="memory-tab-header">
                                            <div class="memory-search-group">
                                                <input type="text" id="memory-search-input" placeholder="Search messages and conversations..." class="memory-search-input">
                                                <button id="memory-search-btn" class="action-btn primary">Search</button>
                                                <button id="memory-clear-btn" class="action-btn">Clear</button>
                                            </div>
                                        </div>
                                        
                                        <div class="memory-search-results">
                                            <div id="search-results" class="search-results-container">
                                                <!-- Search results will be displayed here -->
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Memory Actions -->
                                    <div class="memory-actions">
                                        <button id="refresh-memory-btn" class="action-btn">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <polyline points="23 4 23 10 17 10"></polyline>
                                                <polyline points="1 20 1 14 7 14"></polyline>
                                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                                            </svg>
                                            Refresh
                                        </button>
                                        <button id="clear-all-memory-btn" class="action-btn danger">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <polyline points="3,6 5,6 21,6"></polyline>
                                                <path d="M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2"></path>
                                            </svg>
                                            Clear All Memory
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirmation-modal" class="delete-confirmation-modal">
        <div class="delete-confirmation-content">
            <div class="delete-confirmation-header">
                <h3 id="delete-modal-title">Delete project?</h3>
            </div>
            <div class="delete-confirmation-body">
                <p id="delete-modal-message">
                    This will permanently delete all project files and chats. To save chats, move them to your chat list or another project before deleting.
                </p>
            </div>
            <div class="delete-confirmation-actions">
                <button id="delete-modal-cancel" class="delete-btn-cancel">Cancel</button>
                <button id="delete-modal-confirm" class="delete-btn-confirm">Delete project</button>
            </div>
        </div>
    </div>

    <!-- Project Creation Modal -->
    <div id="project-creation-modal" class="project-creation-modal">
        <div class="project-creation-content">
            <div class="project-creation-header">
                <h3>Create New Project</h3>
            </div>
            <div class="project-creation-body">
                <p>Enter a name for your new project:</p>
                <input type="text" id="project-name-input" class="project-name-input" placeholder="Project name" maxlength="100">
            </div>
            <div class="project-creation-actions">
                <button id="project-modal-cancel" class="project-btn-cancel">Cancel</button>
                <button id="project-modal-confirm" class="project-btn-confirm">Create Project</button>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="auth-modal" class="auth-modal">
        <div class="auth-content">
            <div class="auth-header">
                <h3 id="auth-modal-title">Welcome to Ollama Pilot</h3>
                <button id="close-auth" class="close-btn">×</button>
            </div>
            <div class="auth-body">
                <!-- Login Form -->
                <div id="login-form" class="auth-form active">
                    <div class="auth-form-header">
                        <h4>Sign In</h4>
                        <p>Welcome back! Please sign in to your account.</p>
                    </div>
                    <form id="login-form-element">
                        <div class="form-group">
                            <label for="login-email">Email</label>
                            <input type="email" id="login-email" name="email" required placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="login-password">Password</label>
                            <input type="password" id="login-password" name="password" required placeholder="Enter your password">
                        </div>
                        <button type="submit" class="auth-btn primary" id="login-submit-btn">
                            <span class="btn-text">Sign In</span>
                            <span class="btn-spinner" style="display: none;">
                                <div class="loading-spinner"></div>
                            </span>
                        </button>
                    </form>
                    <div class="auth-form-footer">
                        <p>Don't have an account? <button type="button" class="auth-link" id="show-register">Create one</button></p>
                    </div>
                </div>

                <!-- Register Form -->
                <div id="register-form" class="auth-form">
                    <div class="auth-form-header">
                        <h4>Create Account</h4>
                        <p>Join us today! Create your account to get started.</p>
                    </div>
                    <form id="register-form-element">
                        <div class="form-group">
                            <label for="register-username">Username</label>
                            <input type="text" id="register-username" name="username" required placeholder="Choose a username" minlength="3" maxlength="50">
                        </div>
                        <div class="form-group">
                            <label for="register-email">Email</label>
                            <input type="email" id="register-email" name="email" required placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="register-password">Password</label>
                            <input type="password" id="register-password" name="password" required placeholder="Create a password" minlength="6">
                        </div>
                        <div class="form-group">
                            <label for="register-confirm-password">Confirm Password</label>
                            <input type="password" id="register-confirm-password" name="confirmPassword" required placeholder="Confirm your password" minlength="6">
                        </div>
                        <button type="submit" class="auth-btn primary" id="register-submit-btn">
                            <span class="btn-text">Create Account</span>
                            <span class="btn-spinner" style="display: none;">
                                <div class="loading-spinner"></div>
                            </span>
                        </button>
                    </form>
                    <div class="auth-form-footer">
                        <p>Already have an account? <button type="button" class="auth-link" id="show-login">Sign in</button></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- User Menu Dropdown -->
    <div id="user-menu-dropdown" class="user-menu-dropdown">
        <div class="user-menu-header">
            <div class="user-menu-info">
                <div class="user-menu-name" id="user-menu-name">User</div>
                <div class="user-menu-email" id="user-menu-email">user@example.com</div>
            </div>
        </div>
        <div class="user-menu-items">
            <button class="user-menu-item" id="user-profile-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Profile
            </button>
            <button class="user-menu-item" id="user-settings-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
                Settings
            </button>
            <div class="user-menu-divider"></div>
            <button class="user-menu-item danger" id="logout-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16,17 21,12 16,7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                Sign Out
            </button>
        </div>
    </div>

    <script src="app.js?v=4"></script>
</body>
</html>